(this["webpackJsonpredux-example-store-app"]=this["webpackJsonpredux-example-store-app"]||[]).push([[0],{157:function(e,t,c){},158:function(e,t,c){},474:function(e,t,c){"use strict";c.r(t);var n=c(2),o=c.n(n),s=c(17),a=c.n(s),r=c(24),i=c(66),l=c(54),d="SET_PRODUCTS",u="SET_SELECTED_PRODUCT",j=function(e){return{type:d,payload:e}},h=function(e){return{type:u,payload:e}},g={productList:[],selectedProduct:{}},b=Object(i.a)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{productList:t.payload});case u:return Object(l.a)(Object(l.a)({},e),{},{selectedProduct:t.payload});default:return e}}}),O=Object(i.b)(b,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=(c(157),c(6)),f=c(5),m=(c(158),c(14)),x=(c(96),c(1)),S=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)("select",{name:"categories",id:"categories",onChange:function(e){var t;console.log("CATEGORY: ".concat(e.target.value)),t=e.target.value,t,console.log("blah: ".concat(t)),localStorage.setItem("cate",t)},children:[Object(x.jsx)("option",{value:"",id:"cat-ph",selected:!0,hidden:!0,children:"Category (Optional)"}),Object(x.jsx)("option",{value:"men's clothing",children:"Men's Clothing"}),Object(x.jsx)("option",{value:"women's clothing",children:"Women's Clothing"}),Object(x.jsx)("option",{value:"jewelery",children:"Jewelry"}),Object(x.jsx)("option",{value:"electronics",children:"Electronics"}),Object(x.jsx)("option",{value:"all",children:"ALL"})]})})},v=function(e){var t,c=e.query,n=e.inputRequired,o=e.updateSearchStatus,s=function(){return t=localStorage.getItem("cate"),localStorage.setItem("query",c),t||c?"/results":"#"};return Object(x.jsx)("div",{children:Object(x.jsx)(p.b,{to:s,onClick:function(){s(),t||c||n()},children:Object(x.jsx)("button",{id:"search-home",className:"btn",onClick:function(){o(!0),localStorage.setItem("searched",JSON.stringify(!0))},children:"SEARCH"})})})},w=function(e){var t=e.updateSearchStatus;return Object(x.jsxs)("div",{id:"browse",children:[Object(x.jsx)("h2",{id:"browsing",className:"subheader",children:"JUST BROWSING?"}),Object(x.jsx)(p.b,{to:"/products",children:Object(x.jsx)("button",{className:"btn",id:"view-all-btn",onClick:function(){t(!1),localStorage.setItem("searched",JSON.stringify(!1))},children:"View ALL Products"})}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})},N=c(94),y=c.n(N),I=function(){var e,t,c,o,s,a,r,i,l,d,u,j=localStorage.getItem("home"),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=Object(n.useState)(""),O=Object(m.a)(b,2),p=O[0],f=O[1],S=function(){return l=new Date,e=l.getDay(),c=l.getMonth(),t=l.getDate(),o=l.getFullYear(),s=l.getHours(),a=l.getMinutes(),r=l.getSeconds(),d=l.getTimezoneOffset(),u=y.a.tz.guess(),i=s>=12?"PM":"AM",e=function(e){return h[e]}(e),c=function(e){return g[e]}(c),s=function(e){return e>12?e-12:0===e?e+12:e}(s),a=function(e){return e<10&&(e="0".concat(e.toString())),e}(a),r=function(e){return e<10&&(e="0".concat(e.toString())),e}(r),d=y.a.tz.zone(u).abbr(d),l="".concat(e," ").concat(c," ").concat(t,", ").concat(o," ").concat(s,":").concat(a,":").concat(r," ").concat(i," ").concat(d)};return Object(n.useEffect)((function(){setInterval((function(){S(),f(l)}),1e3)}),[p]),"true"===j?Object(x.jsxs)("footer",{className:"footer-home",onLoad:console.log(j),children:[Object(x.jsx)("p",{id:"copyright",children:"\xa9 2021, Rabbithole Development"}),Object(x.jsx)("p",{children:S()})]}):Object(x.jsxs)("footer",{className:"footer",onLoad:console.log(j),children:[Object(x.jsx)("p",{id:"copyright",children:"\xa9 2021, Rabbithole Development"}),Object(x.jsx)("p",{children:S()})]})};window.addEventListener("load",localStorage.setItem("cate","")),window.addEventListener("load",localStorage.setItem("searched",!0));var C=function(){localStorage.setItem("home",JSON.stringify(!0));var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],o=t[1],s=Object(n.useState)(!0),a=Object(m.a)(s,2),r=(a[0],a[1]);console.log("catcat: ".concat(S.category));var i=function(e){return r(e)};return Object(x.jsxs)("div",{onLoad:function(){window.scrollTo(0,0),alert("OK")},children:[Object(x.jsx)("h1",{className:"pg-head",children:"WELCOME"}),Object(x.jsxs)("div",{className:"search",children:[Object(x.jsx)("h3",{id:"hcihu",className:"subheader",children:"What can I help you find today?"}),Object(x.jsx)("input",{type:"text",name:"search-txt-home",id:"search-txt-home",className:"search-txt",value:c,onChange:function(e){return o(e.target.value)}}),Object(x.jsx)(S,{}),Object(x.jsx)(v,{query:c,inputRequired:function(){document.getElementById("search-txt-home").classList.add("red-bg"),document.getElementById("categories").style.cssText="border: 2px solid red;"},updateSearchStatus:i}),Object(x.jsx)(w,{updateSearchStatus:i}),Object(x.jsx)(I,{})]})]})},k=c(29),L=c.n(k),E=c(41),T=c(42),J=c.n(T),R=function(e){e.searchActive;var t=localStorage.getItem("single-product"),c=localStorage.getItem("searched"),n=function(){localStorage.setItem("scroll-pos",JSON.stringify(0)),localStorage.setItem("re-rendered",!0)},o=function(){localStorage.setItem("cate","")};return Object(x.jsx)("div",{children:function(){var e;return console.log("searched: ".concat(c)),console.log("singleProductPage: ".concat(t)),"true"===t?e="true"===c?Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)(p.b,{to:"../Results",className:"link",id:"back-link",children:"back"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(p.b,{to:"../",className:"link",id:"home-link",onClick:function(){n(),o()},children:"home"})]}):Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)(p.b,{to:"../Products",className:"link",id:"back-link",children:"back"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(p.b,{to:"../",className:"link",id:"home-link",onClick:function(){n(),o()},children:"home"})]}):(console.log("false"),e=Object(x.jsx)("nav",{className:"nav-full",children:Object(x.jsx)(p.b,{to:"../",className:"link",id:"home-link-full",onClick:function(){n(),o()},children:"home"})})),e}()})},D=function(e){var t,c=e.currentID,o=Object(r.b)(),s=Object(r.c)((function(e){return e.product.selectedProduct})),a=Object(n.useState)(!1),i=Object(m.a)(a,2),l=i[0],d=(i[1],Object(f.f)().productID),u=("../products/#img-".concat(d),localStorage.getItem("searched"));localStorage.setItem("home",JSON.stringify(!1)),localStorage.setItem("single-product",JSON.stringify(!0));var j=function(){var e=Object(E.a)(L.a.mark((function e(){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("https://fakestoreapi.com/products/".concat(d)).catch((function(e){return console.log(e)}));case 2:c=e.sent,console.log(c),console.log("product price: ".concat(s.price)),t=c.data.price.toString(),console.log(t),o(h(c.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d&&""!==d&&j()}),[d]),console.log("currentID here: ".concat(c));var g;return Object(x.jsxs)("div",{onLoad:function(){window.scrollTo(0,0),document.body.style.cssText="opacity: 0;",setTimeout((function(){document.body.style.cssText="animation: appear 524ms 1 ease-in; opacity: 1;"}),472)},children:[s&&s.id&&!l?Object(x.jsxs)("div",{children:[function(e){var t,c=window.matchMedia("(max-width: 299px)"),n=window.matchMedia("(max-width: 599px)"),o=window.matchMedia("(max-width: 899px)");return c.matches?t=e.title.length<70?Object(x.jsx)("h3",{className:"pg-head-item",children:e.title}):Object(x.jsx)("h4",{className:"pg-head-item",children:e.title}):n.matches?t=e.title.length<70?Object(x.jsx)("h2",{className:"pg-head-item",children:e.title}):Object(x.jsx)("h3",{className:"pg-head-item",children:e.title}):o.matches?t=e.title.length<70?Object(x.jsx)("h1",{className:"pg-head-item",children:e.title}):Object(x.jsx)("h2",{className:"pg-head-item",children:e.title}):(console.log(e.title.length),t=Object(x.jsx)("h1",{className:"pg-head-item",children:e.title})),t}(s),Object(x.jsx)(R,{searchActive:u}),Object(x.jsx)("img",{src:s.image,className:"image-full"}),Object(x.jsx)("p",{className:"sp-desc",children:s.description}),Object(x.jsxs)("p",{className:"price",children:["$",(g=s.price.toString(),console.log("original price: ".concat(g)),"."===g[g.length-2]?g+="0":"."!==g[g.length-3]?g+=".00":g=g,console.log("formatted price: ".concat(g)),g)]})]}):Object(x.jsx)("div",{children:"loading . . ."}),Object(x.jsx)(I,{})]})};window.onunload=function(){localStorage.setItem("re-rendered",!1)};var A=function(){var e,t,c=Object(n.useState)({}),o=Object(m.a)(c,2),s=(o[0],o[1],Object(n.useState)(!1)),a=Object(m.a)(s,2),i=a[0],l=a[1],d=Object(r.b)(),u=Object(r.c)((function(e){return e.product.productList}));localStorage.setItem("single-product",JSON.stringify(!1)),localStorage.setItem("home",JSON.stringify(!1));var h=function(e){var t=e.indexOf(". "),c=e.indexOf(";");if(console.log("index: ".concat(t)),t>70&&-1!==t)e=e.substr(0,e.indexOf(".")+1),e="".concat(e.charAt(0).toUpperCase()).concat(e.substr(1,e.length));else if(t<=70&&-1!==t){var n;n=e.substr(e.indexOf(". ")+1,e.length),console.log("description2 bef = ".concat(n)),console.log("period index: ".concat(t)),e=e.substr(0,e.indexOf(". ")+1),n=n.substr(0,n.indexOf(". ")+1),console.log("description2 aft = ".concat(n)),e="".concat(e.charAt(0).toUpperCase()).concat(e.substr(1,e.length),"  ").concat(n)}else if(-1!==c)e=e.substr(0,e.indexOf("; ")+1);else if(-1===t&&-1===c&&e.length>70){var o;o=e.substr(70,e.length),e=e.substr(0,70),o=o.substr(0,o.indexOf(",")),e+="".concat(o," . . .")}return Object(x.jsx)("p",{className:"p-desc",children:e})},g=function(){var e=Object(E.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("https://fakestoreapi.com/products").catch((function(e){return console.log(e)}));case 2:t=e.sent,d(j(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g()}),[]),Object(x.jsxs)("div",{onLoad:i?function(){e=JSON.parse(localStorage.getItem("scroll-pos")),window.scrollTo(0,e)}:function(){window.scrollTo(0,0),t=JSON.parse(localStorage.getItem("re-rendered")),l(t)},children:[Object(x.jsx)("h1",{className:"pg-head",children:"OUR PRODUCTS"}),Object(x.jsx)(R,{}),u.length>0?u.map((function(t,c){return Object(x.jsxs)("div",{className:"product-section",children:[Object(x.jsx)("img",{src:t.image,className:"image",id:"img-".concat(t.id)}),Object(x.jsx)("h3",{className:"p-title",children:t.title}),h(t.description),Object(x.jsx)(p.b,{to:"/products/".concat(t.id),id:"more-link",onClick:function(){t.title,t.description,t.image,console.log("scrollPos on unload: ".concat(e)),console.log("window.pageYOffset on unload: ".concat(window.pageYOffset)),localStorage.setItem("scroll-pos",JSON.stringify(window.pageYOffset)),localStorage.setItem("re-rendered",!0),console.log("scrollPos: ".concat(window.pageYOffset))},children:"MORE"})]})})):Object(x.jsx)("h3",{className:"no-results",children:"loading . . ."}),Object(x.jsx)(I,{})]})};window.onunload=function(){localStorage.setItem("re-rendered",!1)};var M=function(){var e,t,c=Object(n.useState)({}),o=Object(m.a)(c,2),s=(o[0],o[1],Object(n.useState)(!1)),a=Object(m.a)(s,2),i=a[0],l=a[1],d=Object(r.b)(),u=Object(r.c)((function(e){return e.product.productList})),h=localStorage.getItem("cate"),g=localStorage.getItem("query");localStorage.setItem("single-product",JSON.stringify(!1)),localStorage.setItem("home",JSON.stringify(!1)),console.log("searchQuery: ".concat(g)),console.log(i);var b=function(e){var t=e.indexOf(". "),c=e.indexOf(";");if(console.log("index: ".concat(t)),t>70&&-1!==t)e=e.substr(0,e.indexOf(".")+1),e="".concat(e.charAt(0).toUpperCase()).concat(e.substr(1,e.length));else if(t<=70&&-1!==t){var n;n=e.substr(e.indexOf(". ")+1,e.length),console.log("description2 bef = ".concat(n)),console.log("period index: ".concat(t)),e=e.substr(0,e.indexOf(". ")+1),n=n.substr(0,n.indexOf(". ")+1),console.log("description2 aft = ".concat(n)),e="".concat(e.charAt(0).toUpperCase()).concat(e.substr(1,e.length),"  ").concat(n)}else if(-1!==c)e=e.substr(0,e.indexOf("; ")+1);else if(-1===t&&-1===c&&e.length>70){var o;o=e.substr(70,e.length),e=e.substr(0,70),o=o.substr(0,o.indexOf(",")),e+="".concat(o," . . .")}return Object(x.jsx)("p",{className:"p-desc",children:e})},O=function(){var e=Object(E.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("https://fakestoreapi.com/products").catch((function(e){return console.log(e)}));case 2:t=e.sent,d(j(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);return Object(x.jsxs)("div",{onLoad:i?function(){e=JSON.parse(localStorage.getItem("scroll-pos")),window.scrollTo(0,e)}:function(){window.scrollTo(0,0),t=JSON.parse(localStorage.getItem("re-rendered")),l(t)},children:[Object(x.jsx)("h1",{className:"pg-head",children:"SEARCH RESULTS"}),Object(x.jsx)(R,{}),u.length>0?Object(x.jsx)("div",{children:function(t,c,n){var o,s;if(n=n.toLowerCase(),console.log(t),c&&"all"!==c&&n)o=t.filter((function(e){return console.log("product.category: ".concat(e.category,"; category: ").concat(c)),c===e.category&&(e.description.toLowerCase().includes(n)||n.includes(e.description.toLowerCase())||e.title.toLowerCase().includes(n)||n.includes(e.title.toLowerCase()))}));else if(n)o=t.filter((function(e){return console.log("query in title? ".concat(e.title.toLowerCase().includes(n))),e.description.toLowerCase().includes(n)||n.includes(e.description.toLowerCase())||e.title.toLowerCase().includes(n)||n.includes(e.title.toLowerCase())}));else if(c&&"all"!==c){if(!c)return;o=t.filter((function(e){return c===e.category}))}else o=t.filter((function(e){return null!==e.id}));return 0===o.length?s=Object(x.jsx)("h3",{className:"no-results",children:"No Results to Show."}):(console.log(o),s=o.map((function(t,c){return Object(x.jsxs)("div",{className:"product-section",children:[Object(x.jsx)("img",{src:t.image,className:"image",id:"img-".concat(t.id)}),Object(x.jsx)("h3",{className:"p-title",children:t.title}),b(t.description),Object(x.jsx)(p.b,{to:"/products/".concat(t.id),id:"more-link",onClick:function(){t.title,t.description,t.image,console.log("scrollPos on unload: ".concat(e)),console.log("window.pageYOffset on unload: ".concat(window.pageYOffset)),localStorage.setItem("scroll-pos",JSON.stringify(window.pageYOffset)),localStorage.setItem("re-rendered",!0),console.log("scrollPos: ".concat(window.pageYOffset))},children:"MORE"})]})}))),s}(u,h,g)}):Object(x.jsx)("h3",{className:"no-results",children:"loading ..."}),Object(x.jsx)(I,{})]})};var P=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(p.a,{children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{exact:!0,path:"/",component:C}),Object(x.jsx)(f.a,{exact:!0,path:"/products",component:A}),Object(x.jsx)(f.a,{exact:!0,path:"/results",component:M}),Object(x.jsx)(f.a,{exact:!0,path:"/products/:productID",component:D})]})})})};c.p;a.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(r.a,{store:O,children:Object(x.jsx)(P,{})})}),document.getElementById("root"))}},[[474,1,2]]]);
//# sourceMappingURL=main.d1cba0d0.chunk.js.map